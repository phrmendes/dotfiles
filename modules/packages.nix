{
  config,
  lib,
  pkgs,
  ...
}:
{
  options.packages.enable = lib.mkEnableOption "enable packages";

  config = lib.mkIf config.packages.enable {
    home.packages =
      with pkgs;
      let
        gcloud = google-cloud-sdk.withExtraComponents (
          with google-cloud-sdk.components; [ gke-gcloud-auth-plugin ]
        );
      in
      [
        ansible
        curl
        deluge-gtk
        discord
        docker-credential-helpers
        elixir
        exiftool
        ffmpeg
        ffmpegthumbnailer
        filezilla
        firefox
        gcloud
        gdu
        ghostscript
        gimp3-with-plugins
        go
        gotools
        grpcurl
        heroic
        hydralauncher
        hyprland-qtutils
        imagemagick
        inkscape
        jdk
        jqp
        just
        jwt-cli
        kdePackages.kdenlive
        kind
        kooha
        kubectl
        kubernetes-helm
        lazyjournal
        libqalculate
        libreoffice
        mangohud
        mermaid-cli
        neovide
        networkmanagerapplet
        nix-prefetch-github
        nodejs
        opencode
        opentofu
        parallel
        pass
        pasystray
        pavucontrol
        phockup
        playerctl
        poppler
        protonup
        python313
        qgis
        quarto
        sqlite
        tectonic
        terraform
        tridactyl-native
        ungoogled-chromium
        websocat
        wofi-emoji
        wofi-power-menu
        yq-go
        yt-dlp
        zotero
      ];
  };
}
